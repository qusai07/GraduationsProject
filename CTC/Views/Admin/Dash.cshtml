@model CTC.Models.User
@{
    ViewData["Title"] = "Home";

    Layout = "~/Views/Shared/_LayoutDahsBoard.cshtml";

}
<style>
    .notifications-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .notification-item {
        padding: 15px;
        border-bottom: 1px solid #eee;
        display: flex;
        align-items: start;
        gap: 10px;
    }

        .notification-item i {
            font-size: 20px;
        }

        .notification-item h5 {
            margin: 0;
            font-size: 14px;
        }

        .notification-item small {
            display: block;
            margin-top: 5px;
        }
</style>
<main id="main" class="main">
    <div class="pagetitle">
        <h1>Dashboard</h1>
    </div>
    <section class="section dashboard">
        <div class="row">
            <div class="col-lg-8">
                <div class="row">
                    <div class="col-xxl-4 col-md-6">
                        <div class="card info-card sales-card">
                            <div class="card-body">
                                <h5 class="card-title">Joiners</h5>
                                <div class="d-flex align-items-center">
                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <div class="ps-3">
                                        <h6>@ViewBag.JoinerCount</h6>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-xxl-4 col-md-6">
                        <div class="card info-card revenue-card">
                            <div class="card-body">
                                <h5 class="card-title">Events</h5>
                                <div class="d-flex align-items-center">
                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-activity"></i>
                                    </div>
                                    <div class="ps-3">
                                        <h6>@ViewBag.EventsCount</h6>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-xxl-4 col-xl-12">
                        <div class="card info-card customers-card">
                            <div class="card-body">
                                <h5 class="card-title">MemberShip</h5>
                                <div class="d-flex align-items-center">
                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <div class="ps-3">
                                        <h6>@ViewBag.UserCount</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Notification</h5>
                                <ul class="notifications-list">
                                    @if (ViewBag.Latestnotification != null && ViewBag.Latestnotification.Count > 0)
                                    {
                                        foreach (var notification in ViewBag.Latestnotification)
                                        {
                                            <li class="notification-item">
                                                <i class="bi bi-exclamation-circle text-warning"></i>
                                                <div>
                                                    <h5>@notification.Message</h5>
                                                    <small class="text-muted">@notification.CreatedAt.ToString("g")</small>
                                                </div>
                                            </li>
                                            <li><hr class="dropdown-divider"></li>
                                        }
                                    }
                                    else
                                    {
                                        <li class="dropdown-item text-center text-muted">You have no new notifications.</li>
                                    }
                                    <li class="dropdown-footer text-center">
                                        <a asp-action="DataTable" asp-controller="Admin">View all notifications</a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- End Left side columns -->
            <!-- Right side columns -->
            <div class="col-lg-4">
                <!-- News & Updates  -->
                <div class="card">
                    <div class="filter">
                        <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <li><a class="dropdown-item" asp-action="ContactMessage" asp-controller="Admin">Reply ?</a></li>
                        </ul>
                    </div>
                    <div class="card-body pb-0">
                        <h5 class="card-title">News &amp; Messages</h5>
                        <div class="news">
                            @if (ViewBag.LatestMessages != null && ViewBag.LatestMessages.Count > 0)
                            {
                                foreach (var message in ViewBag.LatestMessages)
                                {
                                    <div class="post-item clearfix">
                                        <img src="~/assets/img/qusai.jpeg" alt="" class="rounded-circle">
                                        <h4>@message.Name</h4>
                                        <p>@message.Message</p>
                                        <p>@message.SentAt.ToString("g")</p>
                                    </div>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>